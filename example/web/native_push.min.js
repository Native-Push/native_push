let t;const e=location.href;if(e.includes("#")){const a=e.split("#"),i=a[1],n=4-i.length%4;native_push_initialNotification=JSON.parse(atob(i.replace("-","+").replace("_","/").padEnd(i.length+n%4,"="))),history.replaceState(null,"",a[0])}async function native_push_initializeRemoteNotification(e){t=e,await navigator.serviceWorker.register("/native_push_sw.js"),navigator.serviceWorker.onmessage=e=>{"native_push_newNotification"===e.data?.type&&t&&t(e.data?.data)}}async function native_push_registerForRemoteNotification(e){return"granted"===await Notification.requestPermission()&&(e={endpoint:(e=(await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){var t=atob(e),a=new Uint8Array(t.length);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e);return a}(e)})).toJSON()).endpoint,p256dh:e.keys.p256dh,auth:e.keys.auth},window.localStorage.setItem("native_push_token",JSON.stringify(e)),!0)}