"use strict";importScripts("/localization.js"),self.onpush=i=>{let{title:t,titleLocalizationKey:a,titleLocalizationArgs:o,body:l,bodyLocalizationKey:n,bodyLocalizationArgs:e,image:s,...c}=i.data.json();var f=navigator.languages;a&&(t=localization(f,a,o??[])),n&&(l=localization(f,n,e??[])),i.waitUntil(self.registration.showNotification(t,{body:l,image:s,data:c}))},self.oninstall=i=>{i.waitUntil(self.skipWaiting())},self.onactivate=i=>{i.waitUntil(self.clients.claim())},self.onnotificationclick=a=>{a.notification.close(),a.waitUntil(self.clients.matchAll({type:"window"}).then(async i=>{var t=a.notification.data;t&&(0!==i.length?(await(i=i[0]).focus(),i.postMessage({type:"native_push_newNotification",data:t})):(i=btoa(JSON.stringify(t)).replace("+","-").replace("/","_").replace("=",""),await self.clients.openWindow("/#"+i)))}))};